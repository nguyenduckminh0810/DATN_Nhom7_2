<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Demo B·ªô L·ªçc S·∫£n Ph·∫©m</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"
    />
    <style>
      :root {
        --auro-accent: #d4af37;
        --auro-dark: #2c2c2c;
        --auro-text-light: #6c757d;
      }

      .filter-demo {
        background: #f8f9fa;
        min-height: 100vh;
        padding: 20px 0;
      }

      .filter-card {
        background: white;
        border-radius: 16px;
        padding: 24px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        border: 1px solid #f0f0f0;
      }

      .filter-title {
        font-size: 1rem;
        font-weight: 600;
        color: var(--auro-dark);
        margin-bottom: 16px;
        display: flex;
        align-items: center;
      }

      .filter-section {
        border-bottom: 1px solid #f8f9fa;
        padding-bottom: 20px;
        margin-bottom: 24px;
      }

      .filter-section:last-child {
        border-bottom: none;
        margin-bottom: 0;
      }

      .quick-range-btn {
        border-radius: 20px;
        padding: 6px 14px;
        font-size: 0.85rem;
        font-weight: 500;
        transition: all 0.3s ease;
        white-space: nowrap;
      }

      .quick-range-btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .quick-range-btn.active {
        background: var(--auro-accent);
        border-color: var(--auro-accent);
        color: var(--auro-dark);
        font-weight: 600;
      }

      .size-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(40px, 1fr));
        gap: 8px;
      }

      .size-btn {
        border-radius: 8px;
        padding: 8px 12px;
        border: 1px solid #e9ecef;
        background: white;
        color: #495057;
        transition: all 0.3s ease;
        font-weight: 500;
      }

      .size-btn:hover {
        border-color: var(--auro-accent);
        color: var(--auro-accent);
      }

      .size-btn.active {
        background: var(--auro-accent);
        border-color: var(--auro-accent);
        color: var(--auro-dark);
      }

      .color-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 8px;
      }

      .color-btn {
        height: 40px;
        border-radius: 8px;
        border: 2px solid transparent;
        position: relative;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 8px 12px;
      }

      .color-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }

      .color-btn.active {
        border-color: var(--auro-dark);
        box-shadow: 0 0 0 2px white, 0 0 0 4px var(--auro-accent);
      }

      .color-btn.active::after {
        content: "‚úì";
        position: absolute;
        top: 4px;
        right: 4px;
        color: white;
        font-weight: bold;
        font-size: 12px;
        text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
      }

      .color-name {
        font-weight: 600;
        font-size: 0.8rem;
        text-align: center;
        text-shadow: 0 0 2px rgba(0, 0, 0, 0.3);
      }

      .price-display {
        text-align: center;
        padding: 8px 12px;
        background: #f8f9fa;
        border-radius: 8px;
        border: 1px solid #e9ecef;
        margin-bottom: 16px;
      }

      .product-card {
        background: white;
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
        border: 1px solid #f5f5f5;
        transition: all 0.3s ease;
      }

      .product-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
      }

      .product-image {
        width: 100%;
        height: 250px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.2rem;
        font-weight: 600;
      }

      .product-info {
        padding: 20px;
      }

      .active-filters {
        background: #fff3cd;
        border: 1px solid #ffeaa7;
        border-radius: 8px;
        padding: 12px 16px;
        margin-bottom: 20px;
      }

      .filter-tag {
        display: inline-block;
        background: var(--auro-accent);
        color: var(--auro-dark);
        padding: 4px 12px;
        border-radius: 16px;
        font-size: 0.8rem;
        font-weight: 500;
        margin: 2px;
      }
    </style>
  </head>
  <body>
    <div class="filter-demo">
      <div class="container">
        <div class="row">
          <!-- Header -->
          <div class="col-12 mb-4">
            <h1 class="display-5 fw-bold text-center mb-3">
              üõçÔ∏è Demo B·ªô L·ªçc S·∫£n Ph·∫©m
            </h1>
            <p class="text-center text-muted">
              Th·ª≠ nghi·ªám c√°c t√≠nh nƒÉng l·ªçc s·∫£n ph·∫©m cho website b√°n h√†ng
            </p>
          </div>

          <!-- Filters Sidebar -->
          <div class="col-lg-3 mb-4">
            <div class="filter-card">
              <!-- Filter Header -->
              <div
                class="d-flex justify-content-between align-items-center mb-4"
              >
                <h5 class="mb-0"><i class="bi bi-funnel me-2"></i>B·ªô l·ªçc</h5>
                <button
                  class="btn btn-sm btn-outline-secondary"
                  onclick="clearAllFilters()"
                >
                  <i class="bi bi-x me-1"></i>X√≥a t·∫•t c·∫£
                </button>
              </div>

              <!-- Active Filters -->
              <div
                id="activeFilters"
                class="active-filters"
                style="display: none"
              >
                <small class="fw-medium"
                  ><i class="bi bi-check-circle me-1"></i>ƒêang √°p d·ª•ng:</small
                >
                <div id="activeFilterTags" class="mt-2"></div>
              </div>

              <!-- Price Filter -->
              <div class="filter-section">
                <h6 class="filter-title">
                  <i class="bi bi-currency-dollar me-2"></i>Kho·∫£ng gi√°
                </h6>

                <div class="price-inputs d-flex gap-2 mb-3">
                  <input
                    type="number"
                    class="form-control form-control-sm"
                    placeholder="0"
                    id="minPrice"
                    min="0"
                    step="50000"
                  />
                  <span class="align-self-center text-muted">-</span>
                  <input
                    type="number"
                    class="form-control form-control-sm"
                    placeholder="5000000"
                    id="maxPrice"
                    min="0"
                    step="50000"
                  />
                </div>

                <div class="price-display">
                  <small class="text-muted" id="priceDisplay"
                    >0‚Ç´ - 5,000,000‚Ç´</small
                  >
                </div>

                <div class="d-flex flex-wrap gap-2">
                  <button
                    class="btn btn-sm btn-outline-warning quick-range-btn"
                    onclick="setPriceRange(0, 200000)"
                  >
                    D∆∞·ªõi 200k
                  </button>
                  <button
                    class="btn btn-sm btn-outline-warning quick-range-btn"
                    onclick="setPriceRange(200000, 500000)"
                  >
                    200k - 500k
                  </button>
                  <button
                    class="btn btn-sm btn-outline-warning quick-range-btn"
                    onclick="setPriceRange(500000, 1000000)"
                  >
                    500k - 1M
                  </button>
                  <button
                    class="btn btn-sm btn-outline-warning quick-range-btn"
                    onclick="setPriceRange(1000000, 2000000)"
                  >
                    1M - 2M
                  </button>
                  <button
                    class="btn btn-sm btn-outline-warning quick-range-btn"
                    onclick="setPriceRange(2000000, 5000000)"
                  >
                    Tr√™n 2M
                  </button>
                </div>
              </div>

              <!-- Size Filter -->
              <div class="filter-section">
                <h6 class="filter-title">
                  <i class="bi bi-rulers me-2"></i>K√≠ch th∆∞·ªõc
                </h6>
                <div class="size-grid">
                  <button class="btn btn-sm size-btn" onclick="toggleSize('S')">
                    S
                  </button>
                  <button class="btn btn-sm size-btn" onclick="toggleSize('M')">
                    M
                  </button>
                  <button class="btn btn-sm size-btn" onclick="toggleSize('L')">
                    L
                  </button>
                  <button
                    class="btn btn-sm size-btn"
                    onclick="toggleSize('XL')"
                  >
                    XL
                  </button>
                  <button
                    class="btn btn-sm size-btn"
                    onclick="toggleSize('2XL')"
                  >
                    2XL
                  </button>
                  <button
                    class="btn btn-sm size-btn"
                    onclick="toggleSize('3XL')"
                  >
                    3XL
                  </button>
                  <button
                    class="btn btn-sm size-btn"
                    onclick="toggleSize('28')"
                  >
                    28
                  </button>
                  <button
                    class="btn btn-sm size-btn"
                    onclick="toggleSize('29')"
                  >
                    29
                  </button>
                  <button
                    class="btn btn-sm size-btn"
                    onclick="toggleSize('30')"
                  >
                    30
                  </button>
                  <button
                    class="btn btn-sm size-btn"
                    onclick="toggleSize('31')"
                  >
                    31
                  </button>
                  <button
                    class="btn btn-sm size-btn"
                    onclick="toggleSize('32')"
                  >
                    32
                  </button>
                  <button
                    class="btn btn-sm size-btn"
                    onclick="toggleSize('33')"
                  >
                    33
                  </button>
                </div>
              </div>

              <!-- Color Filter -->
              <div class="filter-section">
                <h6 class="filter-title">
                  <i class="bi bi-palette me-2"></i>M√†u s·∫Øc
                </h6>
                <div class="color-grid">
                  <button
                    class="color-btn"
                    style="background-color: #000000"
                    onclick="toggleColor('ƒêen')"
                  >
                    <span class="color-name" style="color: white">ƒêen</span>
                  </button>
                  <button
                    class="color-btn"
                    style="background-color: #ffffff; border: 1px solid #ddd"
                    onclick="toggleColor('Tr·∫Øng')"
                  >
                    <span class="color-name" style="color: #333">Tr·∫Øng</span>
                  </button>
                  <button
                    class="color-btn"
                    style="background-color: #808080"
                    onclick="toggleColor('X√°m')"
                  >
                    <span class="color-name" style="color: white">X√°m</span>
                  </button>
                  <button
                    class="color-btn"
                    style="background-color: #000080"
                    onclick="toggleColor('Xanh navy')"
                  >
                    <span class="color-name" style="color: white"
                      >Xanh navy</span
                    >
                  </button>
                  <button
                    class="color-btn"
                    style="background-color: #0066cc"
                    onclick="toggleColor('Xanh d∆∞∆°ng')"
                  >
                    <span class="color-name" style="color: white"
                      >Xanh d∆∞∆°ng</span
                    >
                  </button>
                  <button
                    class="color-btn"
                    style="background-color: #008000"
                    onclick="toggleColor('Xanh l√°')"
                  >
                    <span class="color-name" style="color: white">Xanh l√°</span>
                  </button>
                  <button
                    class="color-btn"
                    style="background-color: #ff0000"
                    onclick="toggleColor('ƒê·ªè')"
                  >
                    <span class="color-name" style="color: white">ƒê·ªè</span>
                  </button>
                  <button
                    class="color-btn"
                    style="background-color: #8b4513"
                    onclick="toggleColor('N√¢u')"
                  >
                    <span class="color-name" style="color: white">N√¢u</span>
                  </button>
                </div>
              </div>

              <!-- Sort Filter -->
              <div class="filter-section">
                <h6 class="filter-title">
                  <i class="bi bi-sort-alpha-down me-2"></i>S·∫Øp x·∫øp
                </h6>
                <select
                  class="form-select form-select-sm"
                  id="sortBy"
                  onchange="updateSort()"
                >
                  <option value="relevance">ƒê·ªô li√™n quan</option>
                  <option value="price-asc">Gi√° tƒÉng d·∫ßn</option>
                  <option value="price-desc">Gi√° gi·∫£m d·∫ßn</option>
                  <option value="name-asc">T√™n A-Z</option>
                  <option value="name-desc">T√™n Z-A</option>
                  <option value="newest">M·ªõi nh·∫•t</option>
                </select>
              </div>
            </div>
          </div>

          <!-- Products Grid -->
          <div class="col-lg-9">
            <!-- Results Header -->
            <div class="d-flex justify-content-between align-items-center mb-4">
              <div>
                <span class="fw-medium" id="resultCount">0</span>
                <span class="text-muted ms-1">s·∫£n ph·∫©m</span>
              </div>
              <div class="btn-group btn-group-sm">
                <button class="btn btn-warning" id="gridView">
                  <i class="bi bi-grid-3x3-gap"></i>
                </button>
                <button class="btn btn-outline-secondary" id="listView">
                  <i class="bi bi-list"></i>
                </button>
              </div>
            </div>

            <!-- Products -->
            <div class="row g-4" id="productsGrid">
              <!-- Products will be populated by JavaScript -->
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Sample products data
      const sampleProducts = [
        {
          id: 1,
          name: "√Åo s∆° mi nam cao c·∫•p",
          price: 450000,
          category: "√Åo",
          sizes: ["S", "M", "L", "XL"],
          colors: ["Tr·∫Øng", "Xanh navy"],
          image: "üëî",
        },
        {
          id: 2,
          name: "Qu·∫ßn √¢u nam",
          price: 650000,
          category: "Qu·∫ßn",
          sizes: ["28", "29", "30", "31", "32"],
          colors: ["ƒêen", "X√°m"],
          image: "üëñ",
        },
        {
          id: 3,
          name: "√Åo kho√°c nam",
          price: 850000,
          category: "√Åo",
          sizes: ["M", "L", "XL", "2XL"],
          colors: ["ƒêen", "N√¢u"],
          image: "üß•",
        },
        {
          id: 4,
          name: "√Åo thun nam",
          price: 250000,
          category: "√Åo",
          sizes: ["S", "M", "L", "XL"],
          colors: ["Tr·∫Øng", "ƒêen", "X√°m"],
          image: "üëï",
        },
        {
          id: 5,
          name: "Qu·∫ßn jean nam",
          price: 550000,
          category: "Qu·∫ßn",
          sizes: ["29", "30", "31", "32", "33"],
          colors: ["Xanh navy", "ƒêen"],
          image: "üëñ",
        },
        {
          id: 6,
          name: "√Åo polo nam",
          price: 380000,
          category: "√Åo",
          sizes: ["S", "M", "L", "XL"],
          colors: ["Tr·∫Øng", "Xanh d∆∞∆°ng", "ƒê·ªè"],
          image: "üëï",
        },
        {
          id: 7,
          name: "Qu·∫ßn short nam",
          price: 320000,
          category: "Qu·∫ßn",
          sizes: ["S", "M", "L", "XL"],
          colors: ["X√°m", "Xanh l√°"],
          image: "ü©≥",
        },
        {
          id: 8,
          name: "√Åo hoodie nam",
          price: 680000,
          category: "√Åo",
          sizes: ["M", "L", "XL", "2XL"],
          colors: ["ƒêen", "X√°m", "ƒê·ªè"],
          image: "üéΩ",
        },
      ];

      // Filter state
      let filters = {
        minPrice: 0,
        maxPrice: 5000000,
        sizes: [],
        colors: [],
        sortBy: "relevance",
      };

      // Initialize
      document.addEventListener("DOMContentLoaded", function () {
        updateProducts();
        updatePriceDisplay();
      });

      // Filter functions
      function setPriceRange(min, max) {
        filters.minPrice = min;
        filters.maxPrice = max;
        document.getElementById("minPrice").value = min;
        document.getElementById("maxPrice").value = max;
        updatePriceDisplay();
        updateProducts();
        updateActiveFilters();

        // Update button states
        document
          .querySelectorAll(".quick-range-btn")
          .forEach((btn) => btn.classList.remove("active"));
        event.target.classList.add("active");
      }

      function toggleSize(size) {
        const index = filters.sizes.indexOf(size);
        if (index > -1) {
          filters.sizes.splice(index, 1);
          event.target.classList.remove("active");
        } else {
          filters.sizes.push(size);
          event.target.classList.add("active");
        }
        updateProducts();
        updateActiveFilters();
      }

      function toggleColor(color) {
        const index = filters.colors.indexOf(color);
        if (index > -1) {
          filters.colors.splice(index, 1);
          event.target.classList.remove("active");
        } else {
          filters.colors.push(color);
          event.target.classList.add("active");
        }
        updateProducts();
        updateActiveFilters();
      }

      function updateSort() {
        filters.sortBy = document.getElementById("sortBy").value;
        updateProducts();
      }

      function clearAllFilters() {
        filters = {
          minPrice: 0,
          maxPrice: 5000000,
          sizes: [],
          colors: [],
          sortBy: "relevance",
        };

        // Reset UI
        document.getElementById("minPrice").value = "";
        document.getElementById("maxPrice").value = "";
        document.getElementById("sortBy").value = "relevance";
        document
          .querySelectorAll(".active")
          .forEach((el) => el.classList.remove("active"));

        updatePriceDisplay();
        updateProducts();
        updateActiveFilters();
      }

      // Update functions
      function updatePriceDisplay() {
        const min = filters.minPrice || 0;
        const max = filters.maxPrice || 5000000;
        document.getElementById("priceDisplay").textContent = `${formatPrice(
          min
        )} - ${formatPrice(max)}`;
      }

      function updateActiveFilters() {
        const activeFiltersDiv = document.getElementById("activeFilters");
        const tagsDiv = document.getElementById("activeFilterTags");

        let tags = [];

        if (filters.minPrice > 0 || filters.maxPrice < 5000000) {
          tags.push(
            `Gi√°: ${formatPrice(filters.minPrice)} - ${formatPrice(
              filters.maxPrice
            )}`
          );
        }

        if (filters.sizes.length > 0) {
          tags.push(`Size: ${filters.sizes.join(", ")}`);
        }

        if (filters.colors.length > 0) {
          tags.push(`M√†u: ${filters.colors.join(", ")}`);
        }

        if (tags.length > 0) {
          activeFiltersDiv.style.display = "block";
          tagsDiv.innerHTML = tags
            .map((tag) => `<span class="filter-tag">${tag}</span>`)
            .join("");
        } else {
          activeFiltersDiv.style.display = "none";
        }
      }

      function updateProducts() {
        let filteredProducts = sampleProducts.filter((product) => {
          // Price filter
          if (
            product.price < filters.minPrice ||
            product.price > filters.maxPrice
          ) {
            return false;
          }

          // Size filter
          if (filters.sizes.length > 0) {
            const hasMatchingSize = filters.sizes.some((size) =>
              product.sizes.includes(size)
            );
            if (!hasMatchingSize) return false;
          }

          // Color filter
          if (filters.colors.length > 0) {
            const hasMatchingColor = filters.colors.some((color) =>
              product.colors.includes(color)
            );
            if (!hasMatchingColor) return false;
          }

          return true;
        });

        // Sort products
        filteredProducts.sort((a, b) => {
          switch (filters.sortBy) {
            case "price-asc":
              return a.price - b.price;
            case "price-desc":
              return b.price - a.price;
            case "name-asc":
              return a.name.localeCompare(b.name);
            case "name-desc":
              return b.name.localeCompare(a.name);
            default:
              return 0;
          }
        });

        // Update result count
        document.getElementById("resultCount").textContent =
          filteredProducts.length;

        // Render products
        const grid = document.getElementById("productsGrid");
        if (filteredProducts.length === 0) {
          grid.innerHTML = `
                    <div class="col-12 text-center py-5">
                        <div class="text-muted">
                            <i class="bi bi-search fs-1"></i>
                            <h4 class="mt-3">Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m</h4>
                            <p>Th·ª≠ ƒëi·ªÅu ch·ªânh b·ªô l·ªçc c·ªßa b·∫°n</p>
                        </div>
                    </div>
                `;
        } else {
          grid.innerHTML = filteredProducts
            .map(
              (product) => `
                    <div class="col-md-6 col-lg-4">
                        <div class="product-card">
                            <div class="product-image">${product.image}</div>
                            <div class="product-info">
                                <h6 class="fw-medium mb-2">${product.name}</h6>
                                <p class="text-warning fw-bold mb-2">${formatPrice(
                                  product.price
                                )}</p>
                                <div class="d-flex gap-1 mb-2">
                                    ${product.sizes
                                      .slice(0, 3)
                                      .map(
                                        (size) =>
                                          `<small class="badge bg-light text-dark">${size}</small>`
                                      )
                                      .join("")}
                                    ${
                                      product.sizes.length > 3
                                        ? '<small class="text-muted">...</small>'
                                        : ""
                                    }
                                </div>
                                <div class="d-flex gap-1">
                                    ${product.colors
                                      .slice(0, 3)
                                      .map(
                                        (color) =>
                                          `<small class="badge bg-secondary">${color}</small>`
                                      )
                                      .join("")}
                                    ${
                                      product.colors.length > 3
                                        ? '<small class="text-muted">...</small>'
                                        : ""
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                `
            )
            .join("");
        }
      }

      function formatPrice(price) {
        return new Intl.NumberFormat("vi-VN", {
          style: "currency",
          currency: "VND",
          maximumFractionDigits: 0,
        }).format(price);
      }

      // Price input handlers
      document
        .getElementById("minPrice")
        .addEventListener("input", function () {
          filters.minPrice = parseInt(this.value) || 0;
          updatePriceDisplay();
          updateProducts();
          updateActiveFilters();
        });

      document
        .getElementById("maxPrice")
        .addEventListener("input", function () {
          filters.maxPrice = parseInt(this.value) || 5000000;
          updatePriceDisplay();
          updateProducts();
          updateActiveFilters();
        });
    </script>
  </body>
</html>
